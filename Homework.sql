
CREATE TABLE DEPARTMENT(
"DEPARTMENT_ID" VARCHAR(5) NOT NULL,
"TOP_DEPARTMENT_ID" VARCHAR(5) FOREIGN KEY REFERENCES DEPARTMENT(DEPARTMENT_ID),
"DEPARTMENT_NAME" VARCHAR(100) NOT NULL,
PRIMARY KEY (DEPARTMENT_ID)
);

CREATE TABLE ROLE(
"ROLE_ID" VARCHAR(5) NOT NULL,
"ROLE_NAME" VARCHAR(30) NOT NULL,
PRIMARY KEY(ROLE_ID)
);

CREATE TABLE CLIENT(
"CLIENT_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"FIRST_NAME" VARCHAR(20) NOT NULL,
"LAST_NAME" VARCHAR(20) NOT NULL,
"PHONE_NUMBER" VARCHAR(15) NOT NULL,
"EMAIL" VARCHAR(40) NOT NULL,
"ZIP_CODE" VARCHAR(10) NOT NULL,
"STREET" VARCHAR(100) NOT NULL,
"CITY" VARCHAR(100) NOT NULL,
"NUMBER" VARCHAR(10) NOT NULL
);

CREATE TABLE SIGNED_CONTRACT(
"CONTRACT_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"CLIENT_ID" INT NOT NULL FOREIGN KEY REFERENCES CLIENT(CLIENT_ID),
"CONTRACT_NAME" VARCHAR(50) NOT NULL
);

CREATE TABLE PREMIUM_SERVICE(
"SERVICE_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"CLIENT_ID" INT NOT NULL FOREIGN KEY REFERENCES CLIENT(CLIENT_ID),
"SERVICE_NAME" VARCHAR(50) NOT NULL
);

CREATE TABLE SOLD_DEVICE(
"DEVICE_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"CLIENT_ID" INT NOT NULL FOREIGN KEY REFERENCES CLIENT(CLIENT_ID),
"DEVICE_NAME" VARCHAR(50) NOT NULL
);

CREATE TABLE STATUS(
"STATUS_ID" VARCHAR(10) NOT NULL PRIMARY KEY,
"STATUS_NAME" VARCHAR(30) NOT NULL
)

CREATE TABLE TICKET(
"TICKET_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"ROLE_ID" VARCHAR(5) NOT NULL,
"CLIENT_ID" INT NOT NULL FOREIGN KEY REFERENCES CLIENT(CLIENT_ID),
"STATUS_ID" VARCHAR(10) NOT NULL FOREIGN KEY REFERENCES STATUS(STATUS_ID),
"START_DATE" DATE NOT NULL,
"END_DATE" DATE NULL,
"SUMMARY" TEXT
);

CREATE TABLE ACTIVITY(
"ACTIVITY_ID" VARCHAR(5) NOT NULL PRIMARY KEY,
"ACTIVITY_NAME" VARCHAR(20) NOT NULL
);


CREATE TABLE EMPLOYEE(
"EMPLOYEE_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"FIRST_NAME" VARCHAR(20) NOT NULL,
"LAST_NAME" VARCHAR(20) NOT NULL,
"PHONE_NUMBER" VARCHAR(15) NOT NULL,
"EMAIL" VARCHAR(40) NOT NULL,
"DEPARTMENT_ID" VARCHAR(5) NOT NULL FOREIGN KEY REFERENCES DEPARTMENT(DEPARTMENT_ID),
"PRIMARY_ROLE" VARCHAR(5) NOT NULL FOREIGN KEY REFERENCES ROLE(ROLE_ID),
"SECONDARY_ROLE" VARCHAR(5) NULL FOREIGN KEY REFERENCES ROLE(ROLE_ID),
"ZIP_CODE" VARCHAR(10) NOT NULL,
"STREET" VARCHAR(100) NOT NULL,
"CITY" VARCHAR(100) NOT NULL,
"NUMBER" VARCHAR(10) NOT NULL
);


CREATE TABLE ENTRY(
"ENTRY_ID" INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
"ACTIVITY_ID" VARCHAR(5) NOT NULL FOREIGN KEY REFERENCES ACTIVITY(ACTIVITY_ID),
"EMPLOYEE_ID" INT NOT NULL FOREIGN KEY REFERENCES EMPLOYEE(EMPLOYEE_ID),
"TICKET_ID" INT NOT NULL FOREIGN KEY REFERENCES TICKET(TICKET_ID),
"DATE" DATE NOT NULL,
"DESCRIPTION" TEXT NOT NULL
);


INSERT INTO DEPARTMENT(DEPARTMENT_ID,DEPARTMENT_NAME) VALUES ('CEOBD', 'CEO BOARD')
INSERT INTO DEPARTMENT(DEPARTMENT_ID,TOP_DEPARTMENT_ID, DEPARTMENT_NAME) VALUES ('MNGNT','CEOBD','MANAGEMENT')
INSERT INTO DEPARTMENT(DEPARTMENT_ID,TOP_DEPARTMENT_ID, DEPARTMENT_NAME) VALUES ('CSTSR','MNGNT','CUSTOMER SERVICES')
INSERT INTO DEPARTMENT(DEPARTMENT_ID,TOP_DEPARTMENT_ID, DEPARTMENT_NAME) VALUES ('TCHL','CSTSR','TECHNICAL HELP SERVICE')
INSERT INTO DEPARTMENT(DEPARTMENT_ID,TOP_DEPARTMENT_ID, DEPARTMENT_NAME) VALUES ('SLS','CSTSR','SALES AND ADVERTISING')

INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('ONSLS','ONLINE SALES')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('THHLP','TECHNICAL HELP')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('ADVTS','ADVERTISING')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('MNTNC','MAINTENANCE')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('MNGR','MAINTENANCE')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('CEO', 'CHIEF EXECUTIVE OFFICER')
INSERT INTO ROLE(ROLE_ID,ROLE_NAME) VALUES ('CTO', 'CHIEF TECHNOLOGY OFFICER')

INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Suheyb', 'Becerek', '690625160', 'suheybbecerek@tmail.com', 'CEOBD', 'CTO', NULL, '00-575', 'Armii Ludowej', 'Warsaw', '7/65')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Elon', 'Musk', '568953214', 'elonmusk@tmail.com', 'CEOBD', 'CEO', NULL, '00-545', 'Some Plaza', 'Warsaw', '11/98')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Ken', 'Ben', '756241368', 'kenben@tmail.com', 'MNGNT', 'MNGR', 'ONSLS', '00-201', 'Piekna', 'Warsaw', '13/8')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('John', 'Doe', '128963745', 'johndoe@tmail.com', 'TCHL', 'THHLP', 'MNTNC', '00-101', 'Złota', 'Warsaw', '14/5')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Edward', 'Nygma', '556225554', 'enygma@tmail.com', 'SLS', 'ONSLS', 'ADVTS', '00-230', 'Filtrowa', 'Warsaw', '75/25')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Shia', 'LaBeouf', '111999888', 'shialabeouf@tmail.com', 'CSTSR', 'MNGR', NULL, '00-420', 'Marsalkowska', 'Warsaw', '35/25')
INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,DEPARTMENT_ID,PRIMARY_ROLE,SECONDARY_ROLE,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Efficient', 'Salesman', '556225554', 'enygma@tmail.com', 'SLS', 'ONSLS', 'ADVTS', '00-230', 'Filtrowa', 'Warsaw', '75/25')

INSERT INTO CLIENT(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Ahmet', 'Cakir', '565666959', 'acakir@proprietarymail.com', '02-563','Ryzowa','Warsaw','55/8')
INSERT INTO CLIENT(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Dun', 'Nguyen', '424242420', 'crazynguyen42@proprietarymail.com', '02-563','Ryzowa','Warsaw','8/55')
INSERT INTO CLIENT(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Szymon', 'Adamski', '535636939', 'szymonadamski@nooneusesthismail.com', '02-500','Hubska','Wroclaw','75b/9')
INSERT INTO CLIENT(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Anna', 'Adamski', '123456789', 'aadamski@nooneusesthismail.com', '02-500','Hubska','Wroclaw','75b/9')
INSERT INTO CLIENT(FIRST_NAME,LAST_NAME,PHONE_NUMBER,EMAIL,ZIP_CODE,STREET,CITY,NUMBER)
VALUES ('Joanna', 'Durka', '852456357', 'durkaj@nooneusesthismail.com', '02-120','1 Maja','Katowice','9/75')

--clients contracts and devices contract
INSERT INTO SIGNED_CONTRACT(CLIENT_ID,CONTRACT_NAME) VALUES (1,'Mobile SuperPAK')
INSERT INTO SIGNED_CONTRACT(CLIENT_ID,CONTRACT_NAME) VALUES (2,'Mobile MEGA')
INSERT INTO SIGNED_CONTRACT(CLIENT_ID,CONTRACT_NAME) VALUES (3,'Mobile Studnet friendly')
INSERT INTO SIGNED_CONTRACT(CLIENT_ID,CONTRACT_NAME) VALUES (4,'Mobile WorkAnywhere')

INSERT INTO PREMIUM_SERVICE(CLIENT_ID,SERVICE_NAME) VALUES (1,'2G')
INSERT INTO PREMIUM_SERVICE(CLIENT_ID,SERVICE_NAME) VALUES (2,'3G')
INSERT INTO PREMIUM_SERVICE(CLIENT_ID,SERVICE_NAME) VALUES (3,'4G')
INSERT INTO PREMIUM_SERVICE(CLIENT_ID,SERVICE_NAME) VALUES (4,'5G')

INSERT INTO SOLD_DEVICE(CLIENT_ID,DEVICE_NAME) VALUES (1,'Xpensif book')
INSERT INTO SOLD_DEVICE(CLIENT_ID,DEVICE_NAME) VALUES (2,'instagrammerPhone')
INSERT INTO SOLD_DEVICE(CLIENT_ID,DEVICE_NAME) VALUES (3,'Routingter')
INSERT INTO SOLD_DEVICE(CLIENT_ID,DEVICE_NAME) VALUES (4,'AnywhereModem')


INSERT INTO STATUS(STATUS_ID,STATUS_NAME) VALUES ('RGSTRD','REGISTERED')
INSERT INTO STATUS(STATUS_ID,STATUS_NAME) VALUES ('PRGRS','IN PROGRESS')
INSERT INTO STATUS(STATUS_ID,STATUS_NAME) VALUES ('SSPND','SUSPENDED')
INSERT INTO STATUS(STATUS_ID,STATUS_NAME) VALUES ('CLSD','CLOSED')

INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('RGSTR','REGISTER')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('ASST','ASSISTANCE')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('ADVTS','ADVERTISEMENT')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('SALE','SALE')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('RFND','REFUND')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('EXTND','EXTEND')
INSERT INTO ACTIVITY(ACTIVITY_ID,ACTIVITY_NAME) VALUES ('AUDIT','AUDIT')

INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',1,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ADVTS',2,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ONSLS',3,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('MNTNC',4,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ADVTS',5,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',5,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ADVTS',4,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ONSLS',3,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('MNTNC',2,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('ADVTS',1,'RGSTRD','2020-5-29',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',1,'RGSTRD','2020-5-29',NULL,NULL)--ID is 14

--Query 5 test
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',1,'RGSTRD','2020-5-10',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',1,'RGSTRD','2020-5-15',NULL,NULL)
INSERT INTO TICKET(ROLE_ID,CLIENT_ID,STATUS_ID,START_DATE,END_DATE,SUMMARY)
VALUES ('THHLP',1,'RGSTRD','2020-5-20',NULL,NULL)

INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,1,'2020-5-29','Customer having technical problems with service')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ASST',6,8,'2020-5-29','Information about service')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ASST',4,4,'2020-5-29','Technical help about device update')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RFND',3,3,'2020-5-29','Refund given to customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ASST',4,7,'2020-5-29','Technical help about device update')

--Query 2 test
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,5,'2020-5-29','Didnt do anything')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,5,'2020-5-29','Didnt do anything')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,5,'2020-5-29','Didnt do anything')

INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',2,6,'2020-5-29','Didnt do anything')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',2,6,'2020-5-29','Didnt do anything')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',2,6,'2020-5-29','Didnt do anything')

--Query 4 test
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',5,2,'2020-5-29','Special opportunity disscussed with customer')

INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,2,'2020-5-29','Special opportunity disscussed with customer')


INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',7,14,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',2,14,'2020-5-29','Special opportunity disscussed with customer')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('ADVTS',1,14,'2020-5-29','Special opportunity disscussed with customer')


--now add 2 entries to these tickets
select * from ticket
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,11,'2020-5-29','Customer having technical problems with service')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,11,'2020-5-29','Customer having technical problems with service')

INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,12,'2020-5-29','Customer having technical problems with service')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,12,'2020-5-29','Customer having technical problems with service')

INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,13,'2020-5-29','Customer having technical problems with service')
INSERT INTO ENTRY(ACTIVITY_ID,EMPLOYEE_ID,TICKET_ID,DATE,DESCRIPTION)
VALUES ('RGSTR',6,13,'2020-5-29','Customer having technical problems with service')

--Updating table TICKET after employee entries
UPDATE TICKET SET STATUS_ID = 'SSPND', SUMMARY='technical problem is due to unsuported device tech team is working on a port' WHERE TICKET_ID = 1
UPDATE TICKET SET STATUS_ID = 'PRGRS' WHERE TICKET_ID = 2
UPDATE TICKET SET STATUS_ID = 'CLSD',END_DATE='2020-5-30' , SUMMARY='Information about latest 5G service given to the client as requested' WHERE TICKET_ID = 8
UPDATE TICKET SET STATUS_ID = 'CLSD',END_DATE='2020-5-31' , SUMMARY='Refund issiued to the client due to unsatisfactory service' WHERE TICKET_ID = 3
UPDATE TICKET SET STATUS_ID = 'CLSD',END_DATE='2020-5-15' , SUMMARY='Helped client with device update' WHERE TICKET_ID = 4
UPDATE TICKET SET STATUS_ID = 'CLSD',END_DATE='2020-5-31' , SUMMARY='Helped client with device update' WHERE TICKET_ID = 7


--Design of Indexes

--Index created on employee last_name first_name it may speed-up incase we want to check on specific employee's performance
--nonclustered since we basically want to re organize the data by lastname then firstname this will point to the PK also it is not unique
CREATE NONCLUSTERED INDEX  employee_last_name_first_name_idx
ON EMPLOYEE(LAST_NAME , FIRST_NAME)

--We can also create such index like above when we want to query about customer this really speeds up the customer resources'
-- workflow. CLustered index is done by the PK of the table we can reference with nonclustered
CREATE NONCLUSTERED INDEX client_last_name_first_name_idx
ON CLIENT (LAST_NAME, FIRST_NAME)

--We may want to run queries for HR or IA - internal audit - to check Start date of Tickets and their progress
--clustered index is used because it 
CREATE NONCLUSTERED INDEX ticket_progress_register_idx
ON TICKET (STATUS_ID, START_DATE )

-- we can create an index on entries base on employee_id
-- nonclustered including activity id and date and ticket id
CREATE NONCLUSTERED INDEX entry_employee_id_idx
ON ENTRY (EMPLOYEE_ID)
INCLUDE (ACTIVITY_ID, DATE, TICKET_ID)

--we can index client services based on client id to query the clients 
-- bought devices, services, contract
CREATE NONCLUSTERED INDEX contract_client_id_idx
ON SIGNED_CONTRACT(CLIENT_ID)

CREATE NONCLUSTERED INDEX service_client_id_idx
ON PREMIUM_SERVICE(CLIENT_ID)

CREATE NONCLUSTERED INDEX device_client_id_idx
ON SOLD_DEVICE(CLIENT_ID)